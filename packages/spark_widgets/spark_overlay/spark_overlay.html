<!DOCTYPE html>

<!-- Copyright (c) 2013, Google Inc. Please see the AUTHORS file for details.
     All rights reserved. Use of this source code is governed by a BSD-style
     license that can be found in the LICENSE file. -->

<!--
/**
 * See g-overlay https://github.com/Polymer/toolkit-ui/tree/master/elements.
 *
 * spark-overlay displays overlayed on top of other content. It starts out
 * hidden and is displayed by setting it's opened property
 * to true. A spark-overlay's opened state can be toggled by calling the toggle
 * method.
 *
 * It's common to want a spark-overlay to animate to its opened position. A number
 * of helper css classes provide some basic open/close animations. For example,
 * assigning the class spark-overlay-fade to a spark-overlay will make it fade into
 * and out of view as it opens and closes. Note, if multiple spark-overlay's are
 * opened, they should stack on top of each other.
 *
 * Styling: The size and position of a spark-overlay should be setup via css.
 * spark-overlay is natually sized around its content. When a spark-overlay is opened
 * it is shown and the 'opened' class is added to it. This is typically where
 * css transitions and animations are applied. When the spark-overlay is closed,
 * the 'opened' class is removed and a 'closing' class is added. Use 'closing'
 * to customize the closing animation.
 *
 * Classes for animating spark-overlay:
 *
 * * spark-overlay-fade: fade in/out when opened/closed
 * * spark-overlay-scale-slideup: open: fade in and shrink; close: slide up
 * * spark-overlay-shake: open: fly in and shake; close: shake and fly out.
 *
 * It's common to use spark-overlay to gather user input, for example a login
 * dialog. To facilitate this, spark-overlay supports automatic focusing of a
 * specific element when it's opened. The element to be focused should be given
 * an autofocus attribute.
 *
 * An element that should close the spark-overlay will automatically do so if it
 * is given the overlay-toggle attribute. Please note that spark-overlay will
 * close whenever the user taps outside it or presses the escape key. The
 * behavior can be turned off via the autoCloseDisabled property.
 *
 *     <spark-overlay class="spark-overlay-scale-slideup">
 *       <h2>Dialog</h2>
 *       <input placeholder="say something..." autofocus>
 *       <div>I agree with this wholeheartedly.</div>
 *       <button overlay-toggle>OK</button>
 *     </spark-overlay>
 */
/**
 * Fired when the spark-overlay opened property is set.
 *
 * @event open
 * @param {Object} inDetail
 * @param {Object} inDetail.opened the opened state
 */
-->

<link rel="import" href="../../../packages/spark_widgets/common/spark_widget.html"/>

<polymer-element name="spark-overlay"
         extends="spark-widget"
         attributes="opened autoCloseDisabled"
         on-webkitAnimationStart="{{openedAnimationStart}}"
         on-animationStart="{{openedAnimationStart}}"
         on-webkitAnimationEnd="{{openedAnimationEnd}}"
         on-animationEnd="{{openedAnimationEnd}}"
         on-webkitTransitionEnd="{{openedTransitionEnd}}"
         on-transitionEnd="{{openedTransitionEnd}}"
         on-click="{{tapHandler}}"
         on-keydown="{{keydownHandler}}">
         <!-- on-tap="{{tapHandler}}" -->

  <template>
    <!-- BUG: https://code.google.com/p/dart/issues/detail?id=14382 -->
    <!-- link rel="stylesheet" href="xyz.css" -->
    <style>
      @import url("packages/spark_widgets/spark_overlay/spark_overlay.css");
    </style>

    <content></content>
  </template>

  <script type="application/dart" src="spark_overlay.dart"></script>
</polymer-element>
